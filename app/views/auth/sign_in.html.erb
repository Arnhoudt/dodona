<div class="row">
  <div class="sign-in-dialog-wrapper">
    <div class="sign-in-dialog-header">
      <h1><%= t("layout.menu.log_in") %><br>
        <small><%= t ".select-institution" %></small>
      </h1>
    </div>
    <div class="sign-in-dialog-institutions row">
      <%
          # TODO: This distinction is no longer required as saml uses omniauth
          #       now. However, this is kept for now to retain the previous order
          #       of institutions. Remove this when restyling the sign-in page.
      %>
      <% @providers.saml.each do |provider| %>
        <% institution = provider.institution %>
        <%= link_to omniauth_authorize_path(:user, Provider::Saml.sym, provider: provider), class: 'institution-sign-in' do %>
          <div class="col-sm-6 col-lg-4">
            <div class="option-btn">
              <div class="option-btn-img">
                <%= image_tag "idp/#{institution.logo}", class: "img-responsive" %>
              </div>
              <div class="option-btn-title">
                <h3><%= institution.short_name %><br>
                  <small><%= institution.name %></small>
                </h3>
              </div>
              <div><i class="mdi mdi-chevron-right"></i></div>
            </div>
          </div>
        <% end %>
      <% end %>
      <%= link_to omniauth_authorize_path(:user, Provider::Office365.sym), class: 'institution-sign-in' do %>
        <div class="col-sm-6 col-lg-4">
          <div class="option-btn">
            <div class="option-btn-img">
              <%= image_tag 'idp/Howest.jpg', class: "img-responsive" %>
            </div>
            <div class="option-btn-title">
              <h3>Hogeschool West-Vlaanderen<br>
                <small><%= t('.sign-in-with-office-365') %></small>
              </h3>
            </div>
            <div><i class="mdi mdi-chevron-right"></i></div>
          </div>
        </div>
      <% end %>
      <%= link_to omniauth_authorize_path(:user, Provider::Office365.sym), class: 'institution-sign-in' do %>
        <div class="col-sm-6 col-lg-4">
          <div class="option-btn">
            <div class="option-btn-img">
              <%= image_tag 'idp/ucll.png', class: "img-responsive" %>
            </div>
            <div class="option-btn-title">
              <h3>UC Leuven Limburg<br>
                <small><%= t('.sign-in-with-office-365') %></small>
              </h3>
            </div>
            <div><i class="mdi mdi-chevron-right"></i></div>
          </div>
        </div>
      <% end %>
      <%= link_to omniauth_authorize_path(:user, Provider::Office365.sym), class: 'institution-sign-in' do %>
        <div class="col-sm-6 col-lg-4">
          <div class="option-btn">
            <div class="option-btn-img">
              <%= image_tag 'idp/artevelde.png', class: "img-responsive" %>
            </div>
            <div class="option-btn-title">
              <h3>Arteveldehogeschool<br>
                <small><%= t('.sign-in-with-office-365') %></small>
              </h3>
            </div>
            <div><i class="mdi mdi-chevron-right"></i></div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="sign-in-divider row">
      <div class="col-xs-12">
        <div class="divider"></div>
      </div>
    </div>
    <div class="sign-in-dialog-institutions row">
      <%= link_to omniauth_authorize_path(:user, Provider::Smartschool.sym), class: 'institution-sign-in' do %>
        <div class="col-sm-6 col-lg-4">
          <div class="option-btn">
            <div class="option-btn-img">
              <%= image_tag 'idp/smartschool.png', class: "img-responsive" %>
            </div>
            <div class="option-btn-title">
              <h3>Smartschool<br>
                <small><%= t('.sign-in-with-smartschool') %></small>
              </h3>
            </div>
            <div><i class="mdi mdi-chevron-right"></i></div>
          </div>
        </div>
      <% end %>
      <%= link_to omniauth_authorize_path(:user, Provider::Office365.sym), class: 'institution-sign-in' do %>
        <div class="col-sm-6 col-lg-4">
          <div class="option-btn">
            <div class="option-btn-img">
              <%= image_tag 'idp/office365.png', class: "img-responsive" %>
            </div>
            <div class="option-btn-title">
              <h3>Office 365<br>
                <small><%= t('.sign-in-with-office-365') %></small>
              </h3>
            </div>
            <div><i class="mdi mdi-chevron-right"></i></div>
          </div>
        </div>
      <% end %>
      <%= link_to omniauth_authorize_path(:user, Provider::GSuite.sym), class: 'institution-sign-in' do %>
        <div class="col-sm-6 col-lg-4">
          <div class="option-btn">
            <div class="option-btn-img">
              <%= image_tag 'idp/google_oauth2.png', class: "img-responsive" %>
            </div>
            <div class="option-btn-title">
              <h3>G Suite<br>
                <small><%= t('.sign-in-with-g-suite') %></small>
              </h3>
            </div>
            <div><i class="mdi mdi-chevron-right"></i></div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="sign-in-divider row">
      <div class="col-xs-12">
        <div class="divider"></div>
      </div>
    </div>
    <div class="sign-in-dialog-institutions row">
      <div class="card course-search">
        <%= render partial: 'layouts/searchbar', locals: {institutions:  @providers.all.map{ |provider| provider.institution }, eager: false} %>
      </div>
      <div id="institution-poviders-table-wrapper">
        <%= render partial: 'auth/institutions', locals: {institution_providers: @institution_providers} %>
      </div>
    </div>
  </div>
</div>
