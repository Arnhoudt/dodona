<div class="table-scroll-wrapper">
  <table class="table table-resource submissions-table">
    <thead>
    <tr>
      <th class="status-column"></th>
      <th><dodona-sort-button column="number"></dodona-sort-button></th>
      <% if user.nil? && (current_user.admin? || current_user.administrating_courses.any?) %>
        <th><dodona-sort-button column="user"></dodona-sort-button> <%= t ".user" %></th>
      <% end %>
      <% unless exercise.present? %>
        <th><dodona-sort-button column="exercise"></dodona-sort-button><%= t ".exercise" %></th>
      <% end %>
      <th><dodona-sort-button column="time"></dodona-sort-button><%= t ".time" %></th>
      <th><dodona-sort-button column="status"></dodona-sort-button><%= t ".status" %></th>
      <th><dodona-sort-button column="summary"></dodona-sort-button><%= t ".summary" %></th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <%= render partial: 'submissions/submission', collection: submissions, locals: {exercise: exercise, course: local_assigns[:course], user: user } %>
    </tbody>
  </table>
</div>

<%
  params = {}
  params[:exercise_id] = local_assigns[:exercise].id if local_assigns[:exercise].present?
  params[:user_id] = local_assigns[:user].id if local_assigns[:user].present?
%>

<center><%= page_navigation_links submissions, true, 'submissions', params %></center>
<script type="text/javascript">
    $(function () {
      if (dodona.initFilterButtons){
        dodona.initFilterButtons();
      }
    });
</script>
