<%
    exercises_total += 0.0001
    parts = [
        { percent: exercises_correct / exercises_total, class: 'correct' },
        { percent: (exercises_tried - exercises_correct) / exercises_total, class: 'wrong' },
        { percent: 1 - (exercises_tried / exercises_total), class: 'not-started' }
    ]
    cumulativePercent = 0

    parts = parts.map do |part|
        startX, startY = [cumulativePercent, 0.5]
        cumulativePercent += part[:percent]
        endX, endY = [cumulativePercent, 0.5]

        "<line class='#{part[:class]}' x1='#{startX}' y1='#{startY}' x2='#{endX}' y2='#{endY}' />"
    end
%>

<svg viewBox="0 0 1 1" preserveAspectRatio="none" height="8" width="100" class='member-progress-chart' data-html="true" data-toggle='tooltip' title="<%= t('exercises.index.progress_chart_info_tried', count: exercises_tried) %><br/><%= t("exercises.index.progress_chart_info_correct", count: exercises_correct) %>">
    <%=raw parts.join("") %>
</svg>
